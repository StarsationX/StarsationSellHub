<div class="flex flex-col-reverse md:flex-row gap-4 min-h-[calc(100svh-380px-70px-50px)] w-full">
  <div class="w-full flex flex-col gap-4">
    <div class="relative bg-accent/30 p-4 rounded-lg flex flex-col">
      <div class="absolute flex flex-col gap-2 top-0 right-8">
        <div class="bg-blue-600 text-xs text-white py-3 px-2 font-medium shadow-xl">-{{ bundle.discountPercentage }}%
        </div>
      </div>
      <!-- Cart Products List -->
      <div class="flex flex-col gap-4">
        <!-- Product Image and Info -->
        <div class="w-full flex flex-col md:flex-row items-center gap-4">
          <fade-in-image alt="product image" src="{{ bundle.image | default: '/images/no_image_placeholder.png' }}"
            class="w-full min-h-28 md:min-h-28 md:min-w-28 md:h-28 md:w-28 rounded-lg object-cover shrink-0">
          </fade-in-image>
          <div class="w-full flex flex-col md:flex-row gap-2">
            <!-- Product Info -->
            <div class="flex flex-col gap-4">
              <div class="flex flex-col">
                <div class="text-base sm:text-lg md:text-xl font-semibold line-clamp-1">{{ bundle.name }}</div>
                <div class="text-xs text-muted-foreground/70 line-clamp-1 w-full">{{ bundle.description }}</div>
              </div>
              {% if bundle.averageRating > 0 %}
              <div class="flex flex-row items-center gap-2">
                <ul class="flex flex-row gap-1">
                  {% for i in (1..bundle.averageRating) %}
                  <li class="text-[--accent-color]">
                    <svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path fill="currentColor"
                        d="m11.443 19.478-4.328 2.378c-.584.321-1.307.086-1.615-.524a1.3 1.3 0 0 1-.12-.793l.827-5.037a1.29 1.29 0 0 0-.344-1.106L2.36 10.83a1.29 1.29 0 0 1-.021-1.767c.183-.197.424-.325.684-.364l4.839-.735c.39-.06.726-.315.9-.684l2.165-4.582c.292-.619 1.009-.873 1.601-.568.236.122.427.321.543.568l2.164 4.582c.175.369.511.625.901.684l4.839.735c.654.099 1.106.733 1.011 1.416a1.27 1.27 0 0 1-.348.715l-3.502 3.567c-.282.287-.41.7-.344 1.106l.827 5.037c.112.68-.326 1.326-.977 1.443a1.15 1.15 0 0 1-.758-.126l-4.328-2.378a1.15 1.15 0 0 0-1.114 0" />
                    </svg>
                  </li>
                  {% endfor %}
                  {% for i in (bundle.averageRating..4) %}
                  <li class="text-muted-foreground/70">
                    <svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path fill="currentColor"
                        d="m11.443 19.478-4.328 2.378c-.584.321-1.307.086-1.615-.524a1.3 1.3 0 0 1-.12-.793l.827-5.037a1.29 1.29 0 0 0-.344-1.106L2.36 10.83a1.29 1.29 0 0 1-.021-1.767c.183-.197.424-.325.684-.364l4.839-.735c.39-.06.726-.315.9-.684l2.165-4.582c.292-.619 1.009-.873 1.601-.568.236.122.427.321.543.568l2.164 4.582c.175.369.511.625.901.684l4.839.735c.654.099 1.106.733 1.011 1.416a1.27 1.27 0 0 1-.348.715l-3.502 3.567c-.282.287-.41.7-.344 1.106l.827 5.037c.112.68-.326 1.326-.977 1.443a1.15 1.15 0 0 1-.758-.126l-4.328-2.378a1.15 1.15 0 0 0-1.114 0" />
                    </svg>
                  </li>
                  {% endfor %}
                </ul>
              </div>
              {% endif %}
              <div class="flex flex-row items-center gap-2">
                <div class="text-lg font-semibold text-[--accent-color]">{{ totalCartPrice }}</div>
              </div>
            </div>
          </div>
        </div>
        <!-- Product Description -->
        {% for item in bundle.items %}
        <div class="p-2 rounded-lg w-full flex bg-black/60 flex-row items-center gap-4 relative">
          <div
            class="absolute top-2 right-2 text-sm py-1 px-2 rounded-md bg-[--light-accent-color] text-[--accent-color] max-h-[60px] overflow-auto max-w-[280px]">
            <div class="text-xs flex whitespace-pre-wrap overflow-x-scroll w-fit">
              <format-markdown content="{{ item.status }}"></format-markdown>
            </div>
          </div>
          <fade-in-image alt="product image" src="{{ item.image | default: '/images/no_image_placeholder.png' }}"
            class="h-14 w-14 min-w-14 min-h-14 md:min-h-14 md:min-w-14 md:h-14 md:w-14 rounded-lg object-cover shrink-0">
          </fade-in-image>
          <div class="w-full flex flex-col sm:flex-row gap-2">
            <!-- Product Info -->
            <div class="flex flex-col">
              <div class="flex flex-col">
                <div class="text-base sm:text-sm md:text-base font-semibold line-clamp-1">{{ item.name }}</div>
                <div class="text-xs text-muted-foreground/70 line-clamp-1 w-full">{{ item.variant.name }}</div>
              </div>
              <div class="flex flex-row items-center gap-2">
                <div class="text-sm font-semibold text-[--accent-color]">{{ item.variant.price }}</div>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
        <div class="flex flex-col gap-2 overflow-hidden">
          <div class="overflow-y-auto h-[20svh] sm:h-[30svh] max-h-[20svh] sm:max-h-[30svh] rounded-md">
          </div>
        </div>
      </div>
    </div>
    <link-button data-id="00021" data-href="" href="/embed/payment"
      class="bg-[--accent-color] hover:bg-[--dark-accent-color] w-full">
      <span>Select Payment Method</span>
      <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
        <path
          d="m17.707 9.293-5-5a.999.999 0 1 0-1.414 1.414L14.586 9H3a1 1 0 1 0 0 2h11.586l-3.293 3.293a.999.999 0 1 0 1.414 1.414l5-5a1 1 0 0 0 0-1.414"
          fill="currentColor" />
      </svg>
    </link-button>
  </div>
</div>
<script key="embedBundlePage-script">{% raw %}"use strict";(()=>{function setLayoutCartCount(cartCount){let cartCountSpan=document.getElementById("cart-count");cartCountSpan&&(cartCountSpan.innerText=cartCount.toString())}function addItemOrBundleToCartObject({params}){let prev={...localCart};return"item"in params?(console.log(prev.items),prev.items.find(item=>item.variant.id===params.item.variant.id)?"Item already in cart":{...prev,items:[...prev.items,{id:params.item.id,quantity:params.item.quantity,coupon:params.item.coupon,addons:params.item.addons,variant:{id:params.item.variant.id},payWhatYouWantAmount:params.item.payWhatYouWantAmount}]}):prev.bundles.find(item=>item.id===params.bundle.id)?"Bundle already in cart":{...prev,bundles:[...prev.bundles,{id:params.bundle.id,quantity:1,coupon:params.bundle.coupon}]}}async function entrypoint(stringData){let parsedData=Zod.z.object({bundleId:Zod.z.string()}).parse(JSON.parse(stringData)),newLocalCart=addItemOrBundleToCartObject({params:{bundle:{id:parsedData.bundleId,coupon:void 0}}});if(typeof newLocalCart=="string"){console.log(newLocalCart);return}setLocalCart(newLocalCart),setLayoutCartCount(newLocalCart.bundles.length+newLocalCart.items.length)}entrypoint(/*!{% endraw %}*/decodeURIComponent(`{
  "bundleId": "{{bundle.id | url_encode}}"
  }

`)/*!{% raw %}*/);
})();{% endraw %}</script>