<slot data-id="ccecc470-9d14-4065-8d11-7cb4df611659" class="w-full">
  <div class="text-3xl font-bold leading-tight text-white sm:text-4xl lg:text-5xl">Featured Products</div>
  {% assign arr = productsOrGroups %}
  <carousel class="w-full" loop="true" stopOnInteraction="false" delay="4000">
    <carousel-content class="w-full">
      {%- for product in arr %}
      {%- if product.isFeatured %}
      <carousel-item class="w-full" key="{{ product.id }}">
        <div class="group w-full max-w-[860px] h-[340px] relative mx-auto cursor-grab">
          <!-- Price Tag -->
          <div
            class="absolute top-3 sm:top-[8%] min-w-[150px] right-3 sm:-right-6 text-xs bg-gradient-to-r from-[--accent-color] to-[--dark-accent-color] px-3 py-2 rounded-lg sm:rounded-br-none text-black w-fit z-30 shadow-lg shadow-[--accent-color]/30 transition-transform duration-300 group-hover:-translate-y-1">
            <div
              class="sm:block hidden z-[-1] absolute bottom-[2px] translate-y-[100%] -right-0 w-0 h-0 border-l-[15px] border-l-transparent border-t-[15px] rotate-[135deg] border-t-[--medium-accent-color] border-r-[15px] border-r-transparent">
            </div>
            <div class="flex flex-col items-start text-sm">
              <span class="text-white">Starting At</span>
              {% if product.pricingSlash != "Infinity" %}
              <span>
                <span class="line-through text-white/70">{{product.pricingSlash | default: '0'}}</span>
                <span class="font-semibold text-xl text-white">{{product.startingAt}}</span>
              </span>
              {% else %}
              <span class="font-semibold text-xl text-white">{{product.startingAt | default: '0'}}</span>
              {% endif %}
            </div>
          </div>
          <!-- Product Card -->
          <div
            class="h-full flex-1 items-center flex mx-auto flex-col justify-center w-full rounded-2xl duration-300 relative border border-white/10 bg-white/5 shadow-[0_20px_60px_-30px_rgba(0,0,0,0.8)] z-20 overflow-hidden transition-all group-hover:-translate-y-1 group-hover:shadow-[0_30px_70px_-30px_rgba(0,0,0,0.9)]">
            <div class="absolute h-full w-full bg-gradient-to-tr from-black/90 via-black/60 to-transparent z-20">
            </div>
            <div class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.12),_transparent_60%)] z-20"></div>
            {% assign checkArray = product.image | split:'yt:' %}
            {% if checkArray[0] == blank %}
            <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowFullScreen="false"
              class="min-w-[800px] absolute top-0 left-0 rounded-2xl pointer-events-none object-cover w-full h-full z-10"
              frameBorder="0" height="500" src="https://www.youtube.com/embed/{{ checkArray[1] }}"
              title="YouTube video player" width="800"></iframe>
            {% else %}
            <fade-in-image
              class="min-w-[800px] absolute top-0 left-0 rounded-2xl pointer-events-none object-cover w-full h-full z-10"
              width="800" height="500" src="{{product.image | default: '/images/no_image_placeholder.png'}}">
            </fade-in-image>
            {% endif %}
            <div class="absolute bottom-5 left-5 flex flex-col gap-2 max-w-[520px] z-30">
              <div class="text-white font-semibold text-2xl sm:text-3xl">{{product.name}}</div>
              <div class="text-muted-foreground/90 line-clamp-2">{{product.shortDescription}}</div>
              {% if product.isGroup %}
              <dialog>
                <dialog-trigger>
                  <div
                    class="mt-2 inline-flex items-center justify-center gap-2 rounded-full px-5 py-2 text-sm font-semibold text-black bg-gradient-to-r from-[--accent-color] to-[--dark-accent-color] shadow-lg shadow-[--accent-color]/30 ring-1 ring-white/20 transition-all duration-200 hover:shadow-[--accent-color]/50 hover:-translate-y-0.5 active:translate-y-0">
                    View Products
                  </div>
                </dialog-trigger>
                <dialog-content className="sm:max-w-[425px]">
                  <dialog-header-container>
                    <dialog-header>
                      <dialog-title>{{product.name}}</dialog-title>
                      <dialog-description>
                        {{product.description}}
                      </dialog-description>
                    </dialog-header>
                  </dialog-header-container>
                  <dialog-content-container>
                    <div className="grid gap-4">
                      <!-- Product Card of groups render below -->
                      {% for groupedProduct in product.groupedProducts %}
                      <div class="p-2 rounded-md bg-accent/30 flex flex-row justify-between">
                        <div class="flex flex-row gap-2 w-full">
                          <image priority="true" height="64" width="64"
                            src="{{groupedProduct.images[0] | default: '/images/no_image_placeholder.png'}}"
                            alt="{{groupedProduct.name}}" class="w-16 h-16 object-cover rounded-md"></image>
                          <div class="flex flex-col justify-between w-full">
                            <div class="">
                              <div class="text-sm font-semibold line-clamp-1">{{groupedProduct.name}}</div>
                              <div class="text-xs text-muted-foreground">Contains {{groupedProduct.variantsCount}}
                                Variant{% if groupedProduct.variantsCount > 1 %}s{% endif %}</div>
                            </div>
                            <div class="flex flex-row items-end justify-between">
                              <div class="text-xs text-muted-foreground">Starting <span
                                  class="font-bold text-[--accent-color]">{{groupedProduct.price}}</span></div>
                              <link-button href="/product/{{groupedProduct.url}}"
                                class="bg-gradient-to-r from-[--accent-color] to-[--dark-accent-color] text-xs h-6 px-3 rounded-full text-black shadow-md shadow-[--accent-color]/25 transition-all duration-200 hover:shadow-[--accent-color]/40 hover:-translate-y-0.5"
                                data-id="b782100d-cb9a-4697-ad14-eaeca69760f7" data-label="Purchase"
                                data-variant="default" data-href="/product/{{groupedProduct.url}}">
                                <span>Purchase</span>
                              </link-button>
                            </div>
                          </div>
                        </div>
                      </div>
                      {% endfor %}
                    </div>
                  </dialog-content-container>
                </dialog-content>
              </dialog>

              {% else %}
              <link-button href="/product/{{product.url}}"
                class="mt-2 inline-flex items-center justify-center gap-2 rounded-full px-5 py-2 text-sm font-semibold text-black bg-gradient-to-r from-[--accent-color] to-[--dark-accent-color] shadow-lg shadow-[--accent-color]/30 ring-1 ring-white/20 transition-all duration-200 hover:shadow-[--accent-color]/50 hover:-translate-y-0.5 active:translate-y-0"
                data-id="b782100d-cb9a-4697-ad14-eaeca69760f7" data-label="Purchase" data-variant="default"
                data-href="https://sellhub.cx">
                <span>Purchase</span>
              </link-button>
              {% endif %}
            </div>
          </div>
        </div>
      </carousel-item>
      {%- endif %}
      {%- endfor%}
    </carousel-content>
  </carousel>
</slot>
