<a
  href="/product/{{product.url}}"
  class="group basis-[324px] md:max-w-[324px] h-full bg-gradient-to-b from-white/5 via-white/5 to-transparent shadow-lg backdrop-blur-sm flex-1 flex flex-col p-3 rounded-3xl border border-white/10 duration-300 w-full relative hover:-translate-y-1 hover:border-[--accent-color]/40 hover:shadow-[0_20px_60px_-35px_rgba(0,0,0,0.9)]">
  {% comment %} <span class="absolute top-4 right-4 text-xs bg-white px-1.5 py-0.5 rounded-sm text-black font-bold w-fit shadow-md">{{product.variantCount}}
            Variant{% if product.variantCount > 1 %}s{% endif %}</span>
      {% endcomment %}
  {% assign checkArray = product.image | split: 'yt:' %}

  <div class="relative overflow-hidden rounded-2xl">
    {% if checkArray[1] %}
      <iframe
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowFullScreen="false"
        class="w-full object-cover h-[182px] rounded-2xl overflow-hidden"
        frameBorder="0"
        height="182"
        src="https://www.youtube.com/embed/{{ checkArray[1] }}"
        title="YouTube video player"
        width="600"></iframe>
    {% else %}
      <Image
        src="{{product.image | default: '/images/no_image_placeholder.png'}}"
        alt="{{product.name}}"
        height="182"
        width="600"
        class="w-full object-cover h-[182px] rounded-2xl overflow-hidden transition duration-300 group-hover:scale-[1.02]"></Image>
    {% endif %}
    <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
  </div>

  <div class="mt-3 flex flex-row justify-between items-start gap-3">
    <div class="text-left font-semibold text-xl flex-1 leading-snug">
      {{ product.name }}
    </div>
    <div class="flex flex-col items-end gap-2">
      {% if product.payWhatYouWantEnabled == true %}
        <span class="rounded-full border border-[--accent-color]/40 bg-[--accent-color]/10 px-2.5 py-1 text-[10px] uppercase tracking-wide text-[--accent-color]">
          Pay What You Want
        </span>
      {% endif %}
      {% if product.stockVisible and product.isNotResellerProduct and product.isEveryVariantWebhook == false %}
        <div class="text-[11px]">
          {% if product.stockCount > 99 and product.capStock %}
            <span class="px-2.5 py-1 rounded-full bg-green-500/15 text-green-400">99+ in Stock</span>
          {% elsif product.stockCount > 999999999999 %}
            <span class="px-2.5 py-1 rounded-full bg-green-500/15 text-green-400">âˆž Stock</span>
          {% elsif product.stockCount > 0 %}
            <span class="px-2.5 py-1 rounded-full bg-green-500/15 text-green-400">{{ product.stockCount }} in Stock</span>
          {% else %}
            <span class="px-2.5 py-1 rounded-full bg-red-500/15 text-red-400">Out of Stock</span>
          {% endif %}
        </div>
      {% else %}
        <!-- Force Display Out of stock! Remove it if you dont want to display out of stock even stockVisible is false -->
        {% if product.stockCount == 0 and product.isEveryVariantWebhook == false %}
          <div class="text-[11px]">
            <span class="px-2.5 py-1 rounded-full bg-red-500/15 text-red-400">Out of Stock</span>
          </div>
        {% endif %}
      {% endif %}
    </div>
  </div>
  <div class="mt-4 flex w-full flex-row items-end gap-3">
    <button
      href="/product/{{product.url}}"
      class="duration-200 inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-semibold transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-[--accent-color] hover:text-white px-4 py-2 h-12 w-full rounded-full border border-white/10 bg-white/5 shadow-lg group-hover:border-[--accent-color]/40"
      data-id="b782100d-cb9a-4697-ad14-eaeca69760f7"
      data-label="Purchase"
      data-variant="default"
      data-href="https://sellhub.cx">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-shopping-cart">
        <circle
          cx="8"
          cy="21"
          r="1"></circle>
        <circle
          cx="19"
          cy="21"
          r="1"></circle>
        <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path>
      </svg>
      <span>Purchase</span>
    </button>
    <div class="outfit flex flex-col text-right">
      <span class="text-end text-[11px] text-muted-foreground uppercase tracking-wide">Starting at</span>
      {% if product.priceSlash != 0 %}
        <span>
          <span class="font-bold text-2xl text-[--accent-color]">
            <price data-currency="{{product.baseCurrency}}" data-price="{{product.price}}"></price>
          </span>
          <span class="line-through text-sm text-white opacity-80">
            <price data-currency="{{product.baseCurrency}}" data-price="{{product.priceSlash}}"></price>
          </span>
        </span>
      {% else %}
        <span class="text-2xl font-bold text-brand text-[--accent-color]">
          <price data-currency="{{product.baseCurrency}}" data-price="{{product.price}}"></price>
        </span>
      {% endif %}
    </div>
  </div>
</a>
